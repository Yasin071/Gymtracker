// Rep Wheel Logic
let currentReps = 5;
const repWheel = document.getElementById('rep-wheel-container');
const repValue = document.getElementById('rep-value');

function showRepWheel() {
  if (state.totalWeight <= 20) {
    alert("Add weight first!");
    return;
  }
  repWheel.style.display = 'flex';
  currentReps = 5; // Reset to default
  repValue.textContent = currentReps;
}

document.getElementById('rep-up').addEventListener('click', () => {
  if(currentReps < 50) currentReps++;
  repValue.textContent = currentReps;
});

document.getElementById('rep-down').addEventListener('click', () => {
  if(currentReps > 1) currentReps--;
  repValue.textContent = currentReps;
});

document.getElementById('rep-confirm').addEventListener('click', () => {
  repWheel.style.display = 'none';
  
  state.sets.push({
    exercise: state.currentExercise,
    weight: state.totalWeight,
    reps: currentReps,
    date: new Date().toISOString()
  });
  
  localStorage.setItem('gym-sets', JSON.stringify(state.sets));
  updateSetsLabel();
  resetRestTimer();
});

// Replace the set-button click handler
document.getElementById('set-button').addEventListener('click', showRepWheel);
